# 牛市高倍策略代码审查评分标准

## 评分维度

| 维度 | 权重 | 评分标准 |
|------|------|----------|
| 功能完整性 | 25% | 实现需求功能的程度 |
| 代码质量 | 25% | 可读性、可维护性 |
| 架构一致性 | 20% | 与现有代码风格一致 |
| 性能 | 15% | 运行效率 |
| 安全性 | 15% | 健壮性、风险控制 |

---

## 评分等级

| 等级 | 分数 | 含义 |
|------|------|------|
| 🟢 优秀 | 90-100 | 无需修改，可直接合并 |
| 🟡 良好 | 75-89 | 小问题，可合并后修复 |
| 🟠 合格 | 60-74 | 中等问题，需修改后合并 |
| 🔴 不合格 | <60 | 重大问题，拒绝合并 |

---

## 各维度详细评分

### 1. 功能完整性 (25%)

| 评分 | 标准 |
|------|------|
| 25 | 全部功能实现，额外优化 |
| 20 | 核心功能完整实现 |
| 15 | 主要功能实现，部分缺失 |
| 10 | 部分功能实现 |
| 0 | 核心功能缺失 |

**检查点**:
- ✅ 选股器（放量、突破、强势板块）
- ✅ 回测框架（杠杆、回撤、止盈止损）
- ✅ 调参脚本（网格搜索）
- ✅ 配置模块
- ✅ 报告生成

### 2. 代码质量 (25%)

| 评分 | 标准 |
|------|------|
| 25 | 代码优雅，注释充分，类型完整 |
| 20 | 代码清晰，文档完整 |
| 15 | 代码可读，部分文档缺失 |
| 10 | 代码可运行，但可读性差 |
| 0 | 代码混乱，难以维护 |

**检查点**:
- ✅ PEP 8 规范
- ✅ 类型注解
- ✅ 文档字符串
- ✅ 错误处理
- ✅ 重复代码

### 3. 架构一致性 (20%)

| 评分 | 标准 |
|------|------|
| 20 | 完全遵循现有架构风格 |
| 15 | 基本一致，有少量偏差 |
| 10 | 部分一致，需调整 |
| 5 | 与现有架构不一致 |
| 0 | 完全独立实现 |

**检查点**:
- ✅ 继承 `base/` 基类
- ✅ 接口与 `momentum/` 一致
- ✅ 配置格式统一
- ✅ 日志规范统一

### 4. 性能 (15%)

| 评分 | 标准 |
|------|------|
| 15 | 性能优秀，优于预期 |
| 12 | 满足性能要求 |
| 8 | 略有性能问题 |
| 4 | 性能问题明显 |
| 0 | 性能不可接受 |

**检查点**:
- ✅ 回测速度 < 5秒
- ✅ 内存占用 < 1GB
- ✅ 支持增量加载
- ✅ 无内存泄漏

### 5. 安全性 (15%)

| 评分 | 标准 |
|------|------|
| 15 | 全面考虑安全性 |
| 12 | 主要安全措施到位 |
| 8 | 部分安全措施缺失 |
| 4 | 安全问题较多 |
| 0 | 存在严重安全问题 |

**检查点**:
- ✅ 输入验证
- ✅ 异常处理
- ✅ 资金安全（模拟账户）
- ✅ 无敏感信息泄露
- ✅ 依赖安全

---

## 综合评分计算

```
总分 = (功能完整性 × 0.25) + (代码质量 × 0.25) + (架构一致性 × 0.20) + (性能 × 0.15) + (安全性 × 0.15)
```

### 示例评分

| 项目 | 得分 | 权重 | 加权 |
|------|------|------|------|
| 功能完整性 | 20 | 0.25 | 5.0 |
| 代码质量 | 18 | 0.25 | 4.5 |
| 架构一致性 | 16 | 0.20 | 3.2 |
| 性能 | 12 | 0.15 | 1.8 |
| 安全性 | 12 | 0.15 | 1.8 |
| **总分** | - | - | **16.3** |

**等级**: 🟡 良好 (81.5/100)

---

## 审查决策

| 总分范围 | 决策 | 操作 |
|----------|------|------|
| 90-100 | ✅ 通过 | 直接合并 |
| 75-89 | ✅ 有条件通过 | 合并后修复小问题 |
| 60-74 | ⚠️ 需修改 | 修改后重新审查 |
| <60 | ❌ 拒绝 | 重大重构后重新提交 |

---

## 复审规则

1. **小问题修复**: 可由 dev-engineer 自行修复，无需复审
2. **中等问题**: 修复后需 Architect 确认
3. **重大问题**: 需完整复审流程
